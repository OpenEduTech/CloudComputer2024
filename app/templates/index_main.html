<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>论文总结</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="manifest" href="static/js/manifest.json">

<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="application-name" content="Edu SumUp+">
<meta name="apple-mobile-web-app-title" content="Edu SumUp+">
<meta name="theme-color" content="#1b63ab">
<meta name="msapplication-navbutton-color" content="#1b63ab">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="msapplication-starturl" content="/">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" type="image/png" href="static/images/logo.png">
<link rel="apple-touch-icon" type="image/png" href="static/images/logo.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anek+Kannada:wght@100..800&family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anek+Kannada:wght@100..800&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&family=Jersey+15&display=swap" rel="stylesheet">
<script src="static/js/service_workers.js"> </script>




</head>
<body>
<div id="particles-js"></div>
    <header>
        <h1>论文总结</h1>
        <img src="static/images/logo512.png" width="20%" >
    </header>


    <main>
      <section class="image">
        <img src="static/images/reading.png" alt="" srcset="" width="40%">

      </section>

        <section class="form">
            <h2>总结</h2>
            <form method="post" action="/" enctype="multipart/form-data">
                <img src="static/images/file.png" alt="" width="10%">
                <input type="file" id="file-input" name="file" placeholder="拖动上传文件">
                <button type="submit" id="alertButton"> 生成总结</button>
            </form>
        </section>
    </main>
    <script>
        document.getElementById("alertButton").onclick = function(event) {
            var urlInput = document.getElementById("url_name").value;
            var fileInput = document.getElementById("file-input").files.length;
            var validUrl = urlInput.startsWith("https://www.youtube.com/watch?v=");

            if (!urlInput && fileInput === 0) {
                alert("请提供URL或者上传文件");
                event.preventDefault();
            } else if (urlInput && !validUrl) {
                alert("无效的URL，请输入一个有效的URL");
                event.preventDefault();
            } else if (urlInput && fileInput > 0) {
                alert("请提供一个URL或者一个文件, 而不是一起提供");
                event.preventDefault();
            } else {
                alert("请耐心等待! 你的总结正在生成");
            }
        }

        document.getElementById("file-input").onchange = function() {
            var file = this.files[0];
            if (file) {
                var fileType = file.type;
                var validTypes = ["application/pdf", "text/plain"];
                if (!validTypes.includes(fileType)) {
                    alert("无效文件类型. 请上传一个 .txt 或者 .pdf 文件");
                    this.value = "";
                }
            }
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
        <script src="static/js/app.js"></script>
    </script>
</body>
<footer>
    <p>论文总结</p>
</footer>
</html>`